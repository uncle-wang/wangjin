var _ajax=function(t){var i={url:"/api/fx/"+t.api,data:t.data||{}};t.success&&(i.success=function(i){0===i.status&&t.success(i.data)}),$.ajax(i)},_pagePanel=function(){var t=function(){$(".content>*").hide()};return{showCategoryList:function(){t(),$("#content_title").text("项目类别"),$("#category_list").show()},showItemList:function(){t(),$("#content_title").text("项目列表"),$("#item_list").show()},showItemDetail:function(){t(),$("#content_title").text("项目详情"),$("#item_detail").show()}}}(),category=function(){return{showCacheList:function(){_pagePanel.showCategoryList()},showList:function(){_ajax({api:"getCategoryList",success:function(t){var i=$("#category");i.empty();for(var e=0;e<t.length;e++){var a=$('<li class="item" id="category_'+t[e].id+'"><div class="item-name">'+t[e].name+"</div></li>");i.append(a)}i.children("li").click(function(){var t=$(this).attr("id").substr(9);Item.showList(t)}),_pagePanel.showCategoryList()}})}}}(),Item=function(){var t=[],i=function(i){for(var e=0;e<t.length;e++){var a=t[e];if(a.id===parseInt(i))return a}return null};return{showCacheList:function(){_pagePanel.showItemList()},showList:function(e){_ajax({api:"getItemListByCategoryId",data:{categoryId:e},success:function(e){var a=$("#item");a.empty(),t=e;for(var n=0;n<e.length;n++){var s=$('<li class="item" id="item_'+e[n].id+'"><div class="item-name">'+e[n].name+"</div></li>");a.append(s)}a.children("li").click(function(){var t=$(this).attr("id").substr(5),e=i(t);alert(JSON.stringify(e))}),_pagePanel.showItemList()}})}}}(),initCopyright=function(){var t=$("#toyear"),i=new Date;t.text(i.getFullYear())};!function(){$("#item_list .btn-close").click(function(){category.showCacheList()}),category.showList(),initCopyright()}();