Vue.component("my-header",{props:[],data:function(){return{username:"",email:""}},beforeMount:function(){var e=this;axios.get("/vue/api/getUserInfo").then(function(a){e.username=a.data.username,e.email=a.data.email}).catch(function(e){console.log(e)})},template:'        <div class="header_box">            <div class="logo"></div>            <div class="user_info">                <div class="user_name">                     用户名:&nbsp;<span>{{username}}</span>                </div>            </div>        </div>        '});
Vue.component("table-body",{props:{dataName:{type:String}},data:function(){return{nowpageId:0,totalPage:"",dataList:"",updatelist:function(){}}},methods:{up:function(a){a<=0?alert("已经是第一页了"):(this.nowpageId-=1,this.updatelist(this.nowpageId))},down:function(a){a<this.totalPage-1?(this.nowpageId+=1,this.updatelist(this.nowpageId)):alert("已经是最后一页了")}},beforeMount:function(){var a=this;a.updatelist=function(t){console.log(a.dataName);var e="/vue/api/get"+a.dataName;axios({method:"get",params:{page:t},url:e}).then(function(t){a.totalPage=t.data.totalPage,a.dataList=t.data.list}).catch(function(a){console.log(a)})},a.updatelist(a.nowpageId)},watch:{dataName:function(a,t){var e=this;e.nowpageId=0,e.updatelist(e.nowpageId)}},template:'        <div class="data_area">            <div class="data_name">                  {{dataName}}            </div>            <div class="data_table">                <table>                    <tr class="data_name_list">                        <th class="table_cell"> {{dataName}}<span> &nbsp;name</span></th>                        <th class="table_cell"> {{dataName}}<span> &nbsp;value</span></th>                    </tr>                    <tr v-for="item in dataList">                        <td class="table_cell">{{item.name}}</td>                        <td class="table_cell">{{item.value}}</td>                    </tr>                </table>                <div class="data_page">                    <input type="button" value="上一页" @click="up(nowpageId)">                    <span class="nowpageNum">{{nowpageId+1}}</span>                    <input type="button" value="下一页" @click="down(nowpageId)">                    <span class="pageTotal"> <span style="font-weight:bold">总页数:</span>{{totalPage}}</span>                </div>            </div>        </div>        '});
Vue.component("slid-bar",{props:[],data:function(){return{nowpage:"",navitems:[{num:1,name:"Countries",desurl:"country"},{num:2,name:"Operators",desurl:"operator"}]}},methods:{pagechange:function(e){window.location.href="/vue/"+e}},template:'        <div class="nav_bar">            <div  v-for="item in navitems">                <button class="nav_list" @click="pagechange(item.desurl)">{{item.name}}</button>            </div>        </div>        '});
var vm=new Vue({el:"#webapp"});